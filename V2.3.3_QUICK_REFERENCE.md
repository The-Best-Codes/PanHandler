# ðŸš V2.3.3 Quick Reference - Drone Auto-Calibration

**Status:** âœ… READY TO TEST  
**Date:** October 18, 2025

---

## What's New

### Drone Photo Detection
- **Overhead drone photos** â†’ Instant auto-calibration using GPS altitude
- **Tilted drone photos** â†’ Helpful badge directs to Map Scale
- **22+ drones supported** including DJI Neo (user's drone!)

---

## How It Works

### For Users:

**Overhead Photos (gimbal -90Â°):**
```
Import photo â†’ Auto-detect â†’ Skip calibration â†’ Start measuring!
```

**Tilted Photos (gimbal -30Â°):**
```
Import photo â†’ Cyan badge appears â†’ "Use Map Scale" â†’ Two-point calibration
```

**Regular Photos:**
```
Import photo â†’ Normal coin calibration (no changes)
```

---

## Testing Instructions

### 1. Test Overhead Drone Photo
1. Take photo with DJI Neo pointing straight down
2. Import to app
3. Should skip calibration screen instantly
4. Verify measurements are accurate

### 2. Test Tilted Drone Photo
1. Take photo with DJI Neo at angle
2. Import to app
3. Should see cyan badge: "ðŸš DJI Neo Detected"
4. Badge shows altitude and gimbal angle
5. Tap "Map Scale" to calibrate

### 3. Test Regular Photo
1. Take photo with phone
2. Import to app
3. Normal coin calibration (unchanged)

---

## Files Changed

### Created:
- `/src/utils/droneEXIF.ts` (373 lines)
- `/V2.3.3_DRONE_AUTO_CALIBRATION.md` (full docs)
- `/V2.3.3_QUICK_REFERENCE.md` (this file)

### Modified:
- `/src/components/ZoomCalibration.tsx`
  - Line 13: Import `extractDroneMetadata`
  - Line 67-69: Drone state
  - Line 202-246: Detection useEffect
  - Line 595-671: Drone badge UI

---

## Key Features

âœ… **20+ drone database** (DJI, Autel, Parrot, Skydio)  
âœ… **GPS + Gimbal detection** from EXIF  
âœ… **Ground Sample Distance (GSD)** calculation  
âœ… **Auto-calibration** for overhead photos  
âœ… **Helpful badge** for tilted photos  
âœ… **Graceful fallbacks** for errors  

---

## Supported Drones

### DJI (15 models):
- DJI Neo (FC3582) â­ User's drone!
- Mini 4 Pro, Mini 3 Pro, Mini 2, Mini SE
- Mavic 3, Mavic 3 Classic, Mavic 2 Pro
- Phantom 4 Pro, Phantom 4 Advanced
- Air 3, Air 2S
- Inspire 2, Inspire 3
- And more...

### Others (7 models):
- Autel EVO II Pro, EVO Lite+
- Parrot Anafi, Anafi AI
- Skydio 2+
- Yuneec Typhoon H3
- Holy Stone HS720E

---

## Math Behind It

### Ground Sample Distance (GSD):
```
GSD = (altitude Ã— sensor_width) / (focal_length Ã— image_width)
```

### Example (DJI Neo at 50m):
```
GSD = (50 Ã— 6.17) / (1.48 Ã— 4000)
    = 0.52 cm/pixel
```

### Calibration:
```
pixelsPerMM = 1 / (GSD_cm Ã— 10)
            = 1 / 5.2
            = 0.192 pixels/mm
```

**Result:** Every pixel = 5.2mm on ground

---

## Next Steps

1. **Test with real DJI Neo photo** ðŸ“¸
2. Add "View on Map" button (future)
3. Multi-photo sessions (future)
4. Compass heading overlay (future)

---

## Troubleshooting

### "Not detecting my drone"
- Check if drone is in database
- Verify photo has GPS data
- Altitude must be >10m

### "Auto-calibration not working"
- Must be overhead (gimbal < -70Â°)
- Must have drone specs in database
- GPS data must be valid

### "Measurements seem off"
- Verify drone is in database correctly
- Check if gimbal was truly vertical
- Try Map Scale calibration instead

---

**ðŸš€ Ready to revolutionize drone photo measurements!**
